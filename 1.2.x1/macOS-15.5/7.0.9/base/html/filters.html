<html><head><title>Field Modifiers and Channel Filters</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
<link rel="stylesheet" type="text/css" title="pod_stylesheet" href="style.css">

</head>
<body class='pod'>
<!--
  generated by EPICS::PodHtml v,
  using Pod::Simple::PullParser v3.45,
  under Perl v5.040002 at Wed May 21 08:41:07 2025 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to EPICS::PodHtml, and/or subclassing EPICS::PodHtml,
   then reconverting this document from the Pod source.
   When in doubt, email the author of EPICS::PodHtml for advice.
   See 'perldoc EPICS::PodHtml' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>
<div class="pod">


<p><a href="ComponentReference.html" class="podlinkpod"
>EPICS Component Reference Manual</a></p>
<hr>


<h1><a class='u'
name="EPICS-Reference:-Field-Modifiers-and-Channel-Filters"
>EPICS Reference: Field Modifiers and Channel Filters</a></h1>

<h2><a class='u'
name="Contents"
>Contents</a></h2>

<ul>
<li><a href="#Introduction" class="podlinkpod"
>Introduction </a></li>

<li><a href="#Using-Field-Modifiers-and-Channel-Filters" class="podlinkpod"
>Using Field Modifiers and Channel Filters </a></li>

<li><a href="#Example-Filters" class="podlinkpod"
>Example Filters </a></li>

<li><a href="#Field-Modifier-Reference" class="podlinkpod"
>Field Modifier Reference </a>
<ul>
<li><a href="#Long-String-Field-Modifier" class="podlinkpod"
>Long String Modifier <code>$</code> </a></li>

<li><a href="#Subarray-Field-Modifier-start%3Aincrement%3Aend" class="podlinkpod"
>Subarray Modifier <code>[&#8230;]</code> </a></li>
</ul>
</li>

<li><a href="#JSON5-Channel-Filters" class="podlinkpod"
>JSON5 Channel Filters </a>
<ul>
<li><a href="#TimeStamp-Filter-ts" class="podlinkpod"
>TimeStamp Filter <code>{ts:{}}</code> </a></li>

<li><a href="#Deadband-Filter-dbnd" class="podlinkpod"
>Deadband Filter <code>{dbnd:{&#8230;}}</code> </a></li>

<li><a href="#Array-Filter-arr" class="podlinkpod"
>Array Filter <code>{arr:{&#8230;}}</code> </a></li>

<li><a href="#Synchronize-Filter-sync" class="podlinkpod"
>Synchronize Filter <code>{sync:{&#8230;}}</code> </a></li>

<li><a href="#Decimation-Filter-dec" class="podlinkpod"
>Decimation Filter <code>{dec:{&#8230;}}</code> </a></li>

<li><a href="#User-Tag-Filter-utag" class="podlinkpod"
>User Tag Filter <code>{utag:{&#8230;}}</code> </a></li>
</ul>
</li>
</ul>

<h2><a class='u'
name="Introduction"
>Introduction</a></h2>

<p>A Field Modifier is a string that is appended to the field name part of a Channel Access or PV Access channel name of an IOC-based server.
The IOC currently recognizes 3 different kinds of field modifier,
which are described below.</p>

<p>A Channel Filter is an IOC plugin that can be attached to an IOC process variable channel using a field modifier,
and can alter the data updates that are served to the client that requested the filtering.
Clients that use a channel filter have no effect on other clients connected to the same PV.
Filters can only modify or drop monitor events that the IOC posts; introducing extra monitor events (in between the events posted by the IOC itself) is not currently possible.</p>

<p>Most Channel Filters are configured by a field modifier that uses JSON5 syntax to select the type of filter and provide any parameters it accepts.</p>

<h2><a class='u'
name="Using-Field-Modifiers-and-Channel-Filters"
>Using Field Modifiers and Channel Filters</a></h2>

<p>Modifiers can be added to any Channel Access or PV Access channel name.
There can be more than one modifier or filter applied to a channel.
Modifiers must appear immediately after the field name if one is included in the channel name.
If no field is named because the default (VAL) field is the target,
the modifiers must come immediately after a dot <code>.</code> appended to the record name.</p>

<p>The order that modifiers and filters are specified controls the order in which they are applied to the resulting data-stream.
If used,
the Long String and Subarray field modifiers must appear first and in that order,
followed by any channel filters inside a pair of braces <code> {} </code> that form a JSON5 (<a href="https://spec.json5.org/" class="podlinkurl"
>JavaScript Object Notation</a>) map,
which allows filters and their parameters to be specified as needed.</p>

<p>Each JSON5 filter is specified as a name:value pair.
The filter name is a map key that may be an unquoted identifier name (which all of the filter names given below are),
or a string enclosed inside either single- or double-quote characters <code>&#39;</code> or <code>&#34;</code> as per the JSON5 specification.
Parameters to the filter are provided in the value part of the key:value pair after the colon <code>:</code> character,
and will normally be an embedded JSON5 map containing zero or more key/value pairs inside a nested pair of braces <code> {} </code>.</p>

<p>Unless included inside a quoted string,
white space characters are ignored and skipped over by the JSON5 parser between other token characters.
This includes horizontal and vertical tabs,
line feed/form feed/carriage return,
space and the non-breaking space character <code> \xA0 </code>.
Within a quoted string,
line breaks may escaped with a backslash <code>\</code> to be omitted from the parsed string.</p>

<p>An IOC Channel Access link can include filters in its channel name,
but it is important to not include any spaces at all in the filter specification.
If a filter name or parameter must contain a space it will be necessary to express that space character as an escaped character <code>\x20</code> or <code>\u0020</code> inside a quoted string,
otherwise the space will mark the end of the channel name to the link parsing code inside the IOC.</p>

<h4><a class='u'
name="Example-Filters"
>Example Filters</a></h4>

<p>Given a record called <code>test:channel</code> the following would all apply a channel filter <code>f</code> to the VAL field of that record,
giving the filter two numeric parameters named <code>lo</code> and <code>hi</code>:</p>

<pre> test:channel.{f:{lo:0,hi:10}}
 test:channel.{&#34;f&#34;:{&#34;lo&#34;:0, &#34;hi&#34;:10}}
 test:channel.{&#39;f&#39;: {&#39;lo&#39;:0, &#39;hi&#39;:10} }</pre>

<p>When typing a filtered channel name as an argument to a Unix shell command, if quote characters are used for keys or values in JSON strings within the channel name string it may be necessary to enclose the name within quotes <code>&#39;</code> or <code>&#34;</code> or to use back-slash escapes before them. Quotes may not be required when the Long String modifier <code>$</code> is used at the end of a field name with nothing following it, but will be necessary for a square bracketted Subarray filter or if a dollar sign is followed by something else.</p>

<pre> Hal$ caget test:channel.{f:{lo:0,hi:10}}
 ...
 Hal$ caget &#39;test:channel.{&#34;f&#34;:{&#34;lo&#34;:0, &#34;hi&#34;:10}}&#39;
 ...
 Hal$ caget -S calc:record.CALC$
 ...
 Hal$ caget -S &#39;test:channel.NAME$[0:4]&#39;
 test:channel.NAME$[0:4] test</pre>

<h2><a class='u'
name="Field-Modifier-Reference"
>Field Modifier Reference</a></h2>

<p>The two built-in field modifiers use a simplified syntax following the record field name.</p>

<h3><a class='u'
name="Long-String-Field-Modifier"
>Long String Field Modifier <code>$</code></a></h3>

<p>Appending a dollar sign <code>$</code> to the name of a <code>DBF_STRING</code> field causes the IOC to change the representation of that field into an array of characters, which allows strings longer than 40 character to be transported through Channel Access. Long strings are particularly useful for the CALC fields of a calculation or calcout record, which can hold up to 80 characters, or the VAL fields of an lsi (Long String Input) or lso (Long String Output) record which can be any length as chosen by the database designer.</p>

<pre> Hal$ cainfo test:channel.NAME
 test:channel.NAME
     State:            connected
     Host:             10.234.56.78:5064
     Access:           read, no write
     Native data type: DBF_STRING
     Request type:     DBR_STRING
     Element count:    1
 Hal$ cainfo test:channel.NAME$
 test:channel.NAME$
     State:            connected
     Host:             10.234.56.78:5064
     Access:           read, no write
     Native data type: DBF_CHAR
     Request type:     DBR_CHAR
     Element count:    61</pre>

<p>A CA client accessing a channel that uses the Long String field modifier will have to be specifically configured to treat the data as a string instead of the array of <code>DBF_CHAR</code> that it looks like. CA clients should not attempt to parse the channel name themselves to recognize this field modifier in the name. All long string values returned by the IOC should include a trailing zero byte in their data as is standard for strings in the C language. For the catools programs provided with Base, the flag <code>-S</code> indicates that a channel containing a character array should be treated as a long string.</p>

<pre> Hal$ caget test:channel.NAME
 test:channel.NAME              test:channel
 Hal$ caget test:channel.NAME$
 test:channel.NAME$ 61 116 101 115 116 58 99 104 97 110 110 101 108 0 0 ...
 Hal$ caget -S test:channel.NAME$
 test:channel.NAME$ test:channel</pre>

<h3><a class='u'
name="Subarray-Field-Modifier-start:increment:end"
>Subarray Field Modifier <code>[start:increment:end]</code></a></h3>

<p>This square-bracket field modifier syntax gets translated within the IOC into calls to the <a href="#Array-Filter-arr" class="podlinkpod"
>Array Filter</a>, see that section below for details of this shorthand.</p>

<p>The subarray field modifier syntax can immediately follow a Long String field modifier, which permits fetching various kinds of substrings from the field. This syntax cannot appear after a JSON filter specification though, the JSON &#34;arr&#34; filter syntax must be used to apply an array filter after any other JSON filter type.</p>

<pre> Hal$ caget -S &#39;test:channel.NAME$[0:4]&#39;
 test:channel.NAME$[0:4] test
 Hal$ caget -S &#39;test:channel.NAME$[5:-1]&#39;
 test:channel.NAME$[5:-1] channel</pre>

<h2><a class='u'
name="JSON5-Channel-Filters"
>JSON5 Channel Filters</a></h2>

<h3><a class='u'
name="TimeStamp-Filter-ts"
>TimeStamp Filter <code>&#34;ts&#34;</code></a></h3>

<p>This filter is used for two purposes:</p>

<ul>
<li>to retrieve the timestamp of the record as a value in several different formats;</li>

<li>to retrieve the record value as normal, but replace the timestamp with the time the value was fetched.</li>
</ul>

<h4><a class='u'
name="Parameters"
>Parameters</a></h4>

<h4><a class='u'
name="No-parameters-an-empty-pair-of-braces"
>No parameters (an empty pair of braces)</a></h4>

<p>Retrieve the record value as normal, but replace the timestamp with the time the value was fetched (or an update was sent). This is useful for clients that can&#39;t handle timestamps that are far in the past. Normally, the record&#39;s timestamp indicates when the record last processed, which could have been days or even weeks ago for some records, or set to the EPICS epoch if the record has never processed.</p>

<h4><a class='u'
name="Numeric-type-num"
>Numeric type <code>&#34;num&#34;</code></a></h4>

<p>The following values are accepted for this parameter:</p>

<ul>
<li><code>&#34;dbl&#34;</code> requests the timestamp as <code>epicsFloat64</code> representing the non-integral number of seconds since epoch. This format is convenient, but loses precision, depending on which epoch is used.</li>

<li><code>&#34;sec&#34;</code> requests the number of seconds since epoch as <code>epicsUInt32</code>.</li>

<li><code>&#34;nsec&#34;</code> requests the number of nanoseconds since epoch as <code>epicsUInt32</code>.</li>

<li><code>&#34;ts&#34;</code> requests the entire timestamp. It is provided as a two-element array of <code>epicsUInt32</code> representing seconds and nanoseconds.</li>
</ul>

<p>Note that <code>epicsUInt32</code> cannot be transferred over Channel Access; in that case, the value will be converted to <code>epicsFloat64</code>.</p>

<h4><a class='u'
name="String-type-str"
>String type <code>&#34;str&#34;</code></a></h4>

<p>The following values are accepted for this parameter:</p>

<ul>
<li><code>&#34;epics&#34;</code> requests the timestamp as a string in the format used by tools such as <code>caget</code>.</li>

<li><code>&#34;iso&#34;</code> requests the timestamp as a string in the ISO8601 format.</li>
</ul>

<h4><a class='u'
name="Epoch-adjustment-epoch"
>Epoch adjustment <code>&#34;epoch&#34;</code></a></h4>

<p>The following values are accepted for this parameter:</p>

<ul>
<li><code>&#34;epics&#34;</code> keeps the EPICS epoch (1990-01-01) and is the default if the <code>&#34;epoch&#34;</code> parameter is not specified.</li>

<li><code>&#34;unix&#34;</code> converts the timestamp to the UNIX/POSIX epoch (1970-01-01).</li>
</ul>

<h4><a class='u'
name="Examples"
>Examples</a></h4>

<pre> Hal$ caget -a &#39;test:invalid_ts.{&#34;ts&#34;:{}}&#39;
 test:invalid_ts.{&#34;ts&#34;:{}}      2012-08-28 22:10:31.192547 0 UDF INVALID
 Hal$ caget -a &#39;test:invalid_ts&#39;
 test:invalid_ts                &#60;undefined&#62; 0 UDF INVALID
 Hal$ caget -a test:channel
 test:channel                   2021-03-11 18:23:48.265386 42
 Hal$ caget &#39;test:channel.{&#34;ts&#34;: {&#34;str&#34;: &#34;epics&#34;}}&#39;
 test:channel.{&#34;ts&#34;: {&#34;str&#34;: &#34;epics&#34;}} 2021-03-11 18:23:48.265386
 Hal$ caget &#39;test:channel.{&#34;ts&#34;: {&#34;str&#34;: &#34;iso&#34;}}&#39;
 test:channel.{&#34;ts&#34;: {&#34;str&#34;: &#34;iso&#34;}} 2021-03-11T18:23:48.265386+0100
 Hal$ caget -f9 &#39;test:channel.{&#34;ts&#34;: {&#34;num&#34;: &#34;dbl&#34;}}&#39;
 test:channel.{&#34;ts&#34;: {&#34;num&#34;: &#34;dbl&#34;}} 984331428.265386105
 Hal$ caget -f1 &#39;test:channel.{&#34;ts&#34;: {&#34;num&#34;: &#34;ts&#34;}}&#39;
 test:channel.{&#34;ts&#34;: {&#34;num&#34;: &#34;ts&#34;}} 2 984331428.0 265386163.0
 Hal$ caget -f1 &#39;test:channel.{&#34;ts&#34;: {&#34;num&#34;: &#34;ts&#34;, &#34;epoch&#34;: &#34;unix&#34;}}&#39;
 test:channel.{&#34;ts&#34;: {&#34;num&#34;: &#34;ts&#34;, &#34;epoch&#34;: &#34;unix&#34;}} 2 1615483428.0 265386163.0</pre>

<h3><a class='u'
name="Deadband-Filter-dbnd"
>Deadband Filter <code>&#34;dbnd&#34;</code></a></h3>

<p>This filter implements a channel-specific monitor deadband, which is applied after any deadbands implemented by the record itself (it can only drop updates that the unfiltered channel generates, never add additional updates).</p>

<p>The deadband can be specified as an absolute value change, or as a relative percentage.</p>

<h4><a class='u'
name="Parameters"
>Parameters</a></h4>

<dl>
<dt><a name="Mode-Deadband-abs-rel-shorthand"
>Mode+Deadband <code>&#34;abs&#34;</code>/<code>&#34;rel&#34;</code> (shorthand)</a></dt>

<dd>
<p>Mode and deadband can be specified in one definition (shorthand). The desired mode is given as parameter name (<code>&#34;abs&#34;</code> or <code>&#34;rel&#34;</code>), with the numeric size of the deadband (absolute value or numeric percentage) as value.</p>

<dt><a name="Deadband-d"
>Deadband <code>&#34;d&#34;</code></a></dt>

<dd>
<p>The size of the deadband to use. Relative deadband values are given as a numeric percentage, but without any trailing percent character.</p>

<dt><a name="Mode-m-optional"
>Mode <code>&#34;m&#34;</code> (optional)</a></dt>

<dd>
<p>A string (enclosed in double-quotes <code>&#34;</code>), which should contain either <code>abs</code> or <code>rel</code>. The default mode is <code>abs</code> if no mode parameter is included.</p>
</dd>
</dl>

<h4><a class='u'
name="Example"
>Example</a></h4>

<pre> Hal$ camonitor &#39;test:channel&#39;
 test:channel                    2012-09-01 22:10:19.600595 1 LOLO MAJOR
 test:channel                    2012-09-01 22:10:20.600661 2 LOLO MAJOR
 test:channel                    2012-09-01 22:10:21.600819 3 LOW MINOR
 test:channel                    2012-09-01 22:10:22.600905 4 LOW MINOR
 test:channel                    2012-09-01 22:10:23.601023 5  
 test:channel                    2012-09-01 22:10:24.601136 6 HIGH MINOR
 ^C
 Hal$ camonitor &#39;test:channel.{&#34;dbnd&#34;:{&#34;d&#34;:1.5}}&#39;
 test:channel.{&#34;dbnd&#34;:{&#34;d&#34;:1.5}} 2012-09-01 22:11:49.613341 1 LOLO MAJOR
 test:channel.{&#34;dbnd&#34;:{&#34;d&#34;:1.5}} 2012-09-01 22:11:51.613615 3 LOW MINOR
 test:channel.{&#34;dbnd&#34;:{&#34;d&#34;:1.5}} 2012-09-01 22:11:53.613804 5  
 test:channel.{&#34;dbnd&#34;:{&#34;d&#34;:1.5}} 2012-09-01 22:11:55.614074 7 HIGH MINOR
 test:channel.{&#34;dbnd&#34;:{&#34;d&#34;:1.5}} 2012-09-01 22:11:57.614305 9 HIHI MAJOR
 ^C</pre>

<h3><a class='u'
name="Array-Filter-arr"
>Array Filter <code>&#34;arr&#34;</code></a></h3>

<p>This filter is used to retrieve parts of an array (subarrays and strided subarrays).</p>

<h4><a class='u'
name="Parameters"
>Parameters</a></h4>

<dl>
<dt><a name="Square-bracket-notation-start:increment:end-shorthand"
>Square bracket notation <code>[start:increment:end]</code> (shorthand)</a></dt>

<dd>
<p>This much shorter square bracket notation can be used in place of JSON. Any parameter may be omitted (keeping the colons) to use the default value. If only one colon is included, it means <code>[start:end]</code> with an increment of 1. If only a single parameter is given <code>[index]</code> the filter returns one element.</p>

<p>Index numbers for the start and end parameters must be integers, with the first array element being found at index <code>0</code>. The value of an index may be negative, in which case the indexing is counted backwards from the end of the array, with <code>-1</code> being the last element. If the start index selects an element that comes after the end index element, the subarray returned will always be empty.</p>

<dt><a name="Start-index-s"
>Start index <code>&#34;s&#34;</code></a></dt>

<dd>
<p>Index of the first original array element to retrieve.</p>

<dt><a name="Increment-i"
>Increment <code>&#34;i&#34;</code></a></dt>

<dd>
<p>The stride or increment to apply between elements of the original array to be retrieved. This value must be a positive integer.</p>

<dt><a name="End-index-e"
>End index <code>&#34;e&#34;</code></a></dt>

<dd>
<p>Index of the last original array element to retrieve.</p>
</dd>
</dl>

<p>Defaults (when parameters are omitted) are: <code>s=0</code> (first element), <code>i=1</code> (fetch all elements), <code>e=-1</code> (last element)</p>

<h4><a class='u'
name="Example"
>Example</a></h4>

<pre> Hal$ caget test:channel &#39;test:channel.{&#34;arr&#34;:{s:2,i:2,e:8}}&#39; test:channel.[3:5] test:channel.[3:2:-3]
 test:channel 10 0 1 2 3 4 5 6 7 8 9
 test:channel.{&#34;arr&#34;:{s:2,i:2,e:8}} 4 2 4 6 8
 test:channel.[3:5] 3 3 4 5
 test:channel.[3:2:-3] 3 3 5 7</pre>

<h3><a class='u'
name="Synchronize-Filter-sync"
>Synchronize Filter <code>&#34;sync&#34;</code></a></h3>

<p>This filter is used to dynamically enable or disable monitors according to a condition and a state variable declared by the IOC.</p>

<p>State variables have a boolean value and can be set by a binary output record, an iocsh command or by other software running in the IOC calling <code>dbStateSet()</code>.</p>

<h4><a class='u'
name="Parameters"
>Parameters</a></h4>

<dl>
<dt><a name="Mode-State"
>Mode+State</a></dt>

<dd>
<p>Mode and state can be specified in one definition (shorthand). The desired mode is given as the parameter name (<code>&#34;before&#34;</code> / <code>&#34;first&#34;</code> / <code>&#34;while&#34;</code> / <code>&#34;last&#34;</code> / <code>&#34;after&#34;</code> / <code>&#34;unless&#34;</code> which may be unquoted), with the state name (enclosed in single or double quotes <code>&#34;</code> or <code>&#39;</code>) as the value.</p>

<dt><a name="Mode-m"
>Mode <code>&#34;m&#34;</code></a></dt>

<dd>
<p>A single word from the list below, enclosed in single or double quotes <code>&#39;</code> or <code>&#34;</code>. This controls how the state value should affect the monitor stream.</p>

<dl>
<dt><a name="before-only-the-last-value-received-before-the-state-changes-from-false-to-true-is-forwarded-to-the-client"
><code>&#34;before&#34;</code> &#8212; only the last value received before the state changes from false to true is forwarded to the client.</a></dt>

<dd>
<dt><a name="first-only-the-first-value-received-after-the-state-changes-from-true-to-false-is-forwarded-to-the-client"
><code>&#34;first&#34;</code> &#8212; only the first value received after the state changes from true to false is forwarded to the client.</a></dt>

<dd>
<dt><a name="while-values-are-forwarded-to-the-client-as-long-as-the-state-is-true"
><code>&#34;while&#34;</code> &#8212; values are forwarded to the client as long as the state is true.</a></dt>

<dd>
<dt><a name="last-only-the-last-value-received-before-the-state-changes-from-true-to-false-is-forwarded-to-the-client"
><code>&#34;last&#34;</code> &#8212; only the last value received before the state changes from true to false is forwarded to the client.</a></dt>

<dd>
<dt><a name="after-only-the-first-value-received-after-the-state-changes-from-true-to-false-is-forwarded-to-the-client"
><code>&#34;after&#34;</code> &#8212; only the first value received after the state changes from true to false is forwarded to the client.</a></dt>

<dd>
<dt><a name="unless-values-are-forwarded-to-the-client-as-long-as-the-state-is-false"
><code>&#34;unless&#34;</code> &#8212; values are forwarded to the client as long as the state is false.</a></dt>
</dl>

<dt><a name="State-s"
>State <code>&#34;s&#34;</code></a></dt>

<dd>
<p>The name of a state variable, enclosed in single or double quotes <code>&#34;</code> or <code>&#39;</code>.</p>
</dd>
</dl>

<h4><a class='u'
name="Example"
>Example</a></h4>

<p>Assuming there is a system state called &#34;blue&#34;, that is being controlled by some other facility such as a timing system, updates could be restricted to periods only when &#34;blue&#34; is true by using</p>

<pre> Hal$ camonitor &#39;test:channel&#39; &#39;test:channel.{sync:{while:&#34;blue&#34;}}&#39;
 ...</pre>

<h3><a class='u'
name="Decimation-Filter-dec"
>Decimation Filter <code>&#34;dec&#34;</code></a></h3>

<p>This filter is used to reduce the number or rate of monitor updates from a channel by an integer factor <code>n</code> that is provided as a filter argument, discarding the other updates. A true decimation following the original meaning of the word would be achieved by giving <code>n</code> as 10, to only allow every tenth update through.</p>

<h4><a class='u'
name="Parameters"
>Parameters</a></h4>

<dl>
<dt><a name="Number-n"
>Number <code>&#34;n&#34;</code></a></dt>

<dd>
<p>The decimation factor, a positive integer. Giving n=1 is equivalent to a no-op that allows all updates to be passed to the client.</p>
</dd>
</dl>

<p>This filter is intentionally very simplistic. It passes on the first monitor event that it sees after the channel connects, then discards the next N-1 events before sending the next event. If several clients connect to a channel using the same filter settings they may see completely different data streams since each client gets its own instance of the filter whose event counter starts when that client connects.</p>

<h4><a class='u'
name="Example"
>Example</a></h4>

<p>To sample a 60Hz channel at 1Hz, a 10Hz channel every 6 seconds or a 1Hz channel once every minute:</p>

<pre> Hal$ camonitor &#39;test:channel&#39; &#39;test:channel.{dec:{n:60}}&#39;
 ...</pre>

<h3><a class='u'
name="User-Tag-Filter-utag"
>User Tag Filter <code>&#34;utag&#34;</code></a></h3>

<p>This filter applies a test <code> (UTAG &#38; M) == V </code> to the value of the record&#39;s UTAG field at the time each monitor event is posted, and drops all updates for which this expression is false.</p>

<h4><a class='u'
name="Parameters"
>Parameters</a></h4>

<dl>
<dt><a name="Mask-M"
>Mask <code>&#34;M&#34;</code></a></dt>

<dd>
<p>An integer to be used as a bit mask.</p>

<dt><a name="Value-V"
>Value <code>&#34;V&#34;</code></a></dt>

<dd>
<p>The integer value to be matched after applying the mask to the UTAG value.</p>
</dd>
</dl>

<h4><a class='u'
name="Example"
>Example</a></h4>

<p>To read a channel only when the UTAG value is even (bit 0 is 0):</p>

<pre> Hal$ camonitor &#39;test:channel&#39; &#39;test:channel.{utag:{m:1, v:0}}&#39;
 ...</pre>
</div><hr>


<p><a href="ComponentReference.html" class="podlinkpod"
>EPICS Component Reference Manual</a></p>

<!-- end doc -->

</body></html>
