<html><head><title>Binary Input Record (bi)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
<link rel="stylesheet" type="text/css" title="pod_stylesheet" href="style.css">

</head>
<body class='pod'>
<!--
  generated by EPICS::PodHtml v,
  using Pod::Simple::PullParser v3.43,
  under Perl v5.036000 at Thu May 22 09:47:42 2025 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to EPICS::PodHtml, and/or subclassing EPICS::PodHtml,
   then reconverting this document from the Pod source.
   When in doubt, email the author of EPICS::PodHtml for advice.
   See 'perldoc EPICS::PodHtml' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>
<div class="pod">


<h1><a class='u'
name="Binary-Input-Record-bi"
>Binary Input Record (bi)</a></h1>

<p>This record type is normally used to obtain a binary value of 0 or 1.
Most device support modules obtain values from hardware and place the value in RVAL.
For these devices,
record processing sets VAL = (0,1) if RVAL is (0,
not 0).
Device support modules may optionally read a value directly from VAL.</p>

<p>Soft device modules are provided to obtain input via database or channel access links via dbPutField or dbPutLink requests.
Two soft device support modules are provided: <code>Soft Channel</code> and <code>Raw Soft Channel</code>.
The first allows VAL to be an arbitrary unsigned short integer.
The second reads the value into RVAL just like normal hardware modules.</p>

<h2><a class='u'
name="Parameter-Fields"
>Parameter Fields</a></h2>

<p>The record-specific fields are described below,
grouped by functionality.</p>

<h3><a class='u'
name="Scan-Parameters"
>Scan Parameters</a></h3>

<p>The binary input record has the standard fields for specifying under what circumstances the record will be processed.
These fields are described in <a href="dbCommonRecord.html#Scan-Fields" class="podlinkpod"
>Scan Fields</a>.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">SCAN</td><td class="cell">Scan Mechanism</td><td class="cell">MENU (<a href='menuScan.html'>menuScan</a>)</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">PHAS</td><td class="cell">Scan Phase</td><td class="cell">SHORT</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">EVNT</td><td class="cell">Event Name</td><td class="cell">STRING [40]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">PRIO</td><td class="cell">Scheduling Priority</td><td class="cell">MENU (<a href='menuPriority.html'>menuPriority</a>)</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">PINI</td><td class="cell">Process at iocInit</td><td class="cell">MENU (<a href='menuPini.html'>menuPini</a>)</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

</table></blockquote>


<h3><a class='u'
name="Read-and-Convert-Parameters"
>Read and Convert Parameters</a></h3>

<p>The read and convert fields determine where the binary input gets its input from and how to convert the raw signal to engineering units.
The INP field contains the address from where device support retrieves the value.
If the binary input record gets its value from hardware,
the address of the card must be entered in the INP field,
and the name of the device support module must be entered in the DTYP field.
See <a href="https://docs.epics-controls.org/en/latest/guides/EPICS_Process_Database_Concepts.html#address-specification" class="podlinkurl"
>Address Specification</a> for information on the format of the hardware address.</p>

<p>For records that specify <code>Soft Channel</code> or <code>Raw Soft Channel</code> device support routines,
the INP field can be a channel or a database link,
or a constant.
If a constant,
VAL can be changed directly by dbPuts.
See <a href="https://docs.epics-controls.org/en/latest/guides/EPICS_Process_Database_Concepts.html#address-specification" class="podlinkurl"
>Address Specification</a> for information on the format of database and channel access addresses.
Also,
see <a href="#Device-Support-for-Soft-Records" class="podlinkpod"
>&#34;Device Support for Soft Records&#34;</a> in this chapter for information on soft device support.</p>

<p>If the record gets its values from hardware or uses the <code>Raw Soft Channel</code> device support,
the device support routines place the value in the RVAL field which is then converted using the process described in the next section.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">INP</td><td class="cell">Input Specification</td><td class="cell">INLINK</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">DTYP</td><td class="cell">Device Type</td><td class="cell">DEVICE</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">ZNAM</td><td class="cell">Zero Name</td><td class="cell">STRING [26]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">ONAM</td><td class="cell">One Name</td><td class="cell">STRING [26]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">RVAL</td><td class="cell">Raw Value</td><td class="cell">ULONG</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">VAL</td><td class="cell">Current Value</td><td class="cell">ENUM</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

</table></blockquote>


<h3><a class='u'
name="Conversion-Fields"
>Conversion Fields</a></h3>

<p>The VAL field is set equal to (0,1) if the RVAL field is (0,
not 0),
unless the device support module reads a value directly into VAL or the <code>Soft Channel</code> device support is used.
The value can also be fetched as one of the strings specified in the ZNAM or ONAM fields.
The ZNAM field has a string that corresponds to the 0 state,
so when the value is fetched as this string,
<code>put_enum_str()</code> will return a 0.
The ONAM field hold the string that corresponds to the 1 state,
so when the value is fetched as this string,
<code>put_enum_str()</code> returns a 1.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">ZNAM</td><td class="cell">Zero Name</td><td class="cell">STRING [26]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">ONAM</td><td class="cell">One Name</td><td class="cell">STRING [26]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

</table></blockquote>


<h3><a class='u'
name="Operator-Display-Parameters"
>Operator Display Parameters</a></h3>

<p>These parameters are used to present meaningful data to the operator.
The <code>get_enum_str()</code> record support routine can retrieve the state string corresponding to the VAL&#39;s state.
If the value is 1,
<code>get_enum_str()</code> will return the string in the ONAM field; and if 0,
<code>get_enum_str()</code> will return the ZNAM string.</p>

<p>See <a href="dbCommonRecord.html#Operator-Display-Parameters" class="podlinkpod"
>Fields Common to All Record Types</a> for more on the record name (NAME) and description (DESC) fields.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">ZNAM</td><td class="cell">Zero Name</td><td class="cell">STRING [26]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">ONAM</td><td class="cell">One Name</td><td class="cell">STRING [26]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">NAME</td><td class="cell">Record Name</td><td class="cell">STRING [61]</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">DESC</td><td class="cell">Descriptor</td><td class="cell">STRING [41]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

</table></blockquote>


<h3><a class='u'
name="Alarm-Parameters"
>Alarm Parameters</a></h3>

<p>These parameters are used to determine if the binary input is in alarm condition and to determine the severity of that condition.
The possible alarm conditions for binary inputs are the SCAN,
READ state alarms,
and the change of state alarm.
The SCAN and READ alarms are called by the device supprt routines.</p>

<p>The user can choose the severity of each state in the ZSV and OSV fields.
The possible values for these fields are <code>NO_ALARM</code>,
<code>MINOR</code>,
and <code>MAJOR</code>.
The ZSV field holds the severity for the zero state; OSV,
for the one state.
COSV causes an alarm whenever the state changes between 0 and 1 and the severity is configured as MINOR or MAJOR.</p>

<p>See <a href="https://docs.epics-controls.org/en/latest/guides/EPICS_Process_Database_Concepts.html#alarm-specification" class="podlinkurl"
>Alarm Specification</a> for a complete explanation of record alarms and of the standard fields.
<a href="dbCommonRecord.html#Alarm-Fields" class="podlinkpod"
>Alarm Fields</a> lists other fields related to alarms that are common to all record types.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">ZSV</td><td class="cell">Zero Error Severity</td><td class="cell">MENU (<a href='menuAlarmSevr.html'>menuAlarmSevr</a>)</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">OSV</td><td class="cell">One Error Severity</td><td class="cell">MENU (<a href='menuAlarmSevr.html'>menuAlarmSevr</a>)</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">COSV</td><td class="cell">Change of State Svr</td><td class="cell">MENU (<a href='menuAlarmSevr.html'>menuAlarmSevr</a>)</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

</table></blockquote>


<h3><a class='u'
name="Run-time-Parameters"
>Run-time Parameters</a></h3>

<p>These parameters are used by the run-time code for processing the binary input.
They are not configured using a database configuration tool.</p>

<p>ORAW is used to determine if monitors should be triggered for RVAL at the same time they are triggered for VAL.</p>

<p>MASK is given a value by ithe device support routines.
This value is used to manipulate the record&#39;s value,
but is only the concern of the hardware device support routines.</p>

<p>The LALM fields holds the value of the last occurence of the change of state alarm.
It is used to implement the change of state alarm,
and thus only has meaning if COSV is MAJOR or MINOR.</p>

<p>The MSLT field is used by the <code>process()</code> record support routine to determine if archive and value change monitors are invoked.
They are if MSLT is not equal to VAL.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">ORAW</td><td class="cell">prev Raw Value</td><td class="cell">ULONG</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">MASK</td><td class="cell">Hardware Mask</td><td class="cell">ULONG</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">LALM</td><td class="cell">Last Value Alarmed</td><td class="cell">USHORT</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">MLST</td><td class="cell">Last Value Monitored</td><td class="cell">USHORT</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

</table></blockquote>


<h3><a class='u'
name="Simulation-Mode-Parameters"
>Simulation Mode Parameters</a></h3>

<p>The following fields are used to operate the record in simulation mode.</p>

<p>If SIMM (fetched through SIML) is YES or RAW,
the record is put in SIMS severity and the value is fetched through SIOL (buffered in SVAL).
If SIMM is YES,
SVAL is written to VAL without conversion,
if SIMM is RAW,
SVAL is trancated to RVAL and converted.
SSCN sets a different SCAN mechanism to use in simulation mode.
SDLY sets a delay (in sec) that is used for asynchronous simulation processing.</p>

<p>See <a href="dbCommonInput.html#Input-Simulation-Fields" class="podlinkpod"
>Input Simulation Fields</a> for more information on simulation mode and its fields.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">SIML</td><td class="cell">Simulation Mode Link</td><td class="cell">INLINK</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">SIMM</td><td class="cell">Simulation Mode</td><td class="cell">MENU (<a href='menuSimm.html'>menuSimm</a>)</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">SIOL</td><td class="cell">Simulation Input Link</td><td class="cell">INLINK</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">SVAL</td><td class="cell">Simulation Value</td><td class="cell">ULONG</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">SIMS</td><td class="cell">Simulation Mode Severity</td><td class="cell">MENU (<a href='menuAlarmSevr.html'>menuAlarmSevr</a>)</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">SDLY</td><td class="cell">Sim. Mode Async Delay</td><td class="cell">DOUBLE</td><td class="cell">Yes</td><td class="cell">-1.0</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">SSCN</td><td class="cell">Sim. Mode Scan</td><td class="cell">MENU (<a href='menuScan.html'>menuScan</a>)</td><td class="cell">Yes</td><td class="cell">65535</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

</table></blockquote>


<h2><a class='u'
name="Record-Support"
>Record Support</a></h2>

<h3><a class='u'
name="Record-Support-Routines"
>Record Support Routines</a></h3>

<pre>  long init_record(struct dbCommon *precord, int pass);</pre>

<p>This routine initializes SIMM with the value of SIML if SIML type is a CONSTANT link or creates a channel access link if SIML type is PV_LINK. SVAL is likewise initialized if SIOL is a CONSTANT or PV_LINK.</p>

<p>This routine next checks to see that device support is available and a device support routine is defined. If neither exist, an error is issued and processing is terminated.</p>

<p>If device support includes <code>init_record()</code>, it is called.</p>

<pre>  long process(struct dbCommon *precord);</pre>

<p>See <a href="#Record-Processing" class="podlinkpod"
>&#34;Record Processing&#34;</a> below.</p>

<pre>  long get_enum_str(const struct dbAddr *paddr, char *pbuffer);</pre>

<p>Retrieves ASCII string corresponding to VAL.</p>

<pre>  long get_enum_strs(const struct dbAddr *paddr, struct dbr_enumStrs *p);</pre>

<p>Retrieves ASCII strings for ZNAM and ONAM.</p>

<pre>  long put_enum_str(const struct dbAddr *paddr, const char *pbuffer);</pre>

<p>Check if string matches ZNAM or ONAM, and if it does, sets VAL.</p>

<h2><a class='u'
name="Record-Processing"
>Record Processing</a></h2>

<p>Routine process implements the following algorithm:</p>

<dl>
<dt><a 
>1. Check to see that the appropriate device support module exists. If it doesn&#39;t, an error message is issued and processing is terminated with the PACT field still set to TRUE. This ensures that processes will no longer be called for this record. Thus error storms will not occur.</a></dt>

<dd>
<dt><a name="readValue-is-called.-See-Input-Records-for-details"
>2. <code>readValue()</code> is called. See <a href="#Input-Records" class="podlinkpod"
>&#34;Input Records&#34;</a> for details.</a></dt>

<dd>
<dt><a 
>3. If PACT has been changed to TRUE, the device support read routine has started but has not completed reading a new input value. In this case, the processing routine merely returns, leaving PACT TRUE.</a></dt>

<dd>
<dt><a name="Convert"
>4. Convert.</a></dt>
</dl>

<ul>
<li>status = read_bi</li>

<li>PACT = TRUE</li>

<li><code>recGblGetTimeStamp()</code> is called.</li>

<li>if status is 0, then set VAL=(0,1) if RVAL is (0, not 0) and UDF = False.</li>

<li>if status is 2, set status = 0</li>
</ul>

<dl>
<dt><a 
>5. Check alarms: This routine checks to see if the new VAL causes the alarm status and severity to change. If so, NSEV, NSTA and LALM are set. Note that if VAL is greater than 1, no checking is performed.</a></dt>

<dd>
<dt><a name="Check-if-monitors-should-be-invoked"
>6. Check if monitors should be invoked:</a></dt>
</dl>

<ul>
<li>Alarm monitors are invoked if the alarm status or severity has changed.</li>

<li>Archive and value change monitors are invoked if MSLT is not equal to VAL.</li>

<li>Monitors for RVAL are checked whenever other monitors are invoked.</li>

<li>NSEV and NSTA are reset to 0.</li>
</ul>

<dl>
<dt><a name="Scan-forward-link-if-necessary-set-PACT-FALSE-and-return"
>7. Scan forward link if necessary, set PACT FALSE, and return.</a></dt>
</dl>

<h2><a class='u'
name="Device-Support"
>Device Support</a></h2>

<h3><a class='u'
name="Fields-of-Interest-to-Device-Support"
>Fields of Interest to Device Support</a></h3>

<p>Each binary input record must have an associated set of device support routines. The primary resposibility of the device support routines is to obtain a new raw input value whenever <code>read_bi()</code> is called. The device support routines are primarily interested in the following fields:</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">PACT</td><td class="cell">Record active</td><td class="cell">UCHAR</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">DPVT</td><td class="cell">Device Private</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">UDF</td><td class="cell">Undefined</td><td class="cell">UCHAR</td><td class="cell">Yes</td><td class="cell">1</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">NSEV</td><td class="cell">New Alarm Severity</td><td class="cell">MENU (<a href='menuAlarmSevr.html'>menuAlarmSevr</a>)</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">NSTA</td><td class="cell">New Alarm Status</td><td class="cell">MENU (<a href='menuAlarmStat.html'>menuAlarmStat</a>)</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">VAL</td><td class="cell">Current Value</td><td class="cell">ENUM</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">INP</td><td class="cell">Input Specification</td><td class="cell">INLINK</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">RVAL</td><td class="cell">Raw Value</td><td class="cell">ULONG</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">MASK</td><td class="cell">Hardware Mask</td><td class="cell">ULONG</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

</table></blockquote>


<h3><a class='u'
name="Device-Support-routines"
>Device Support routines</a></h3>

<p>Device support consists of the following routines:</p>

<pre>  long report(int level);</pre>

<p>This optional routine is called by the IOC command <code>dbior</code> and is passed the report level that was requested by the user. It should print a report on the state of the device support to stdout. The <code>level</code> parameter may be used to output increasingly more detailed information at higher levels, or to select different types of information with different levels. Level zero should print no more than a small summary.</p>

<pre>  long init(int after);</pre>

<p>This optional routine is called twice at IOC initialization time. The first call happens before any of the <code>init_record()</code> calls are made, with the integer parameter <code>after</code> set to 0. The second call happens after all of the <code>init_record()</code> calls have been made, with <code>after</code> set to 1.</p>

<pre>  long init_record(struct dbCommon *precord);</pre>

<p>This routine is optional. If provided, it is called by the record support <code>init_record()</code> routine.</p>

<pre>  long get_ioint_info(int cmd, struct dbCommon *precord, IOSCANPVT *ppvt);</pre>

<p>This routine is called by the ioEventScan system each time the record is added or deleted from an I/O event scan list. <code>cmd</code> has the value (0,1) if the record is being (added to, deleted from) and I/O event list. It must be provided for any device type that can use the ioEvent scanner.</p>

<pre>  long read_bi(struct dbCommon *precord);</pre>

<p>This routine must provide a new input value. It returns the following values:</p>

<dl>
<dt><a name="Success.-A-new-raw-value-is-placed-in-RVAL.-The-record-support-module-forces-VAL-to-be-0-1-if-RVAL-is-0-not-0"
>0: Success. A new raw value is placed in RVAL. The record support module forces VAL to be (0,1) if RVAL is (0, not 0).</a></dt>

<dd>
<dt><a name="Success-but-don-t-modify-VAL"
>2: Success, but don&#39;t modify VAL.</a></dt>

<dd>
<dt><a name="Other:-Error"
>Other: Error.</a></dt>
</dl>

<h3><a class='u'
name="Device-Support-for-Soft-Records"
>Device Support for Soft Records</a></h3>

<p>Two soft device support modules, Soft Channel and Raw Soft Channel, are provided for input records not related to actual hardware devices. The INP link type must be either CONSTANT, DB_LINK, or CA_LINK.</p>

<h3><a class='u'
name="Soft-Channel"
>Soft Channel</a></h3>

<p><code>read_bi()</code> always returns a value of 2, which means that no conversion is performed.</p>

<p>If the INP link type is CONSTANT, then the constant value is stored in VAL by <code>init_record()</code>, and the UDF is set to FALSE. VAL can be changed via <code>dbPut()</code> requests. If the INP link type is PV_LINK, the <code>dbCaAddInlink()</code> is called by <code>init_record()</code>.</p>

<p><code>read_bi()</code> calls <code>dbGetLinkValue</code> to read the current value of VAL. See <a href="#Soft-Input" class="podlinkpod"
>&#34;Soft Input&#34;</a> for details.</p>

<p>If the return status of <code>dbGetLinkValue()</code> is zero, then <code>read_bi()</code> sets UDF to FALSE. The status of <code>dbGetLinkValue()</code> is returned.</p>

<h3><a class='u'
name="Raw-Soft-Channel"
>Raw Soft Channel</a></h3>

<p>This module is like the previous except that values are read into RVAL.</p>

<p><code>read_bi()</code> returns a value of 0. Thus the record processing routine will force VAL to be 0 or 1.</p>
</div>


<!-- end doc -->

</body></html>
